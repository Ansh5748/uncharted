{"version":3,"file":"controlNode.js","sourceRoot":"","sources":["../../../../../dev/addons/src/lottie/rendering/controlNode.ts"],"names":[],"mappings":"AACA,OAAO,EAAE,IAAI,EAAE,MAAM,QAAQ,CAAC;AAE9B;;;GAGG;AACH,MAAM,OAAO,WAAY,SAAQ,IAAI;IAIjC;;;;;;;;;;;OAWG;IACH,YACI,EAAU,EACV,uBAAgC,EAChC,OAAe,EACf,QAAgB,EAChB,QAA0B,EAC1B,QAAyB,EACzB,KAAuB,EACvB,OAAwB,EACxB,MAAa;QAEb,KAAK,CAAC,EAAE,EAAE,uBAAuB,EAAE,QAAQ,EAAE,QAAQ,EAAE,KAAK,EAAE,OAAO,EAAE,MAAM,CAAC,CAAC;QAC/E,IAAI,CAAC,QAAQ,GAAG,OAAO,CAAC;QACxB,IAAI,CAAC,SAAS,GAAG,QAAQ,CAAC;QAE1B,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;IAC3B,CAAC;IAED;;;;;;;OAOG;IACa,MAAM,CAAC,KAAa,EAAE,eAAe,GAAG,KAAK,EAAE,OAAO,GAAG,KAAK;QAC1E,0DAA0D;QAC1D,IAAI,CAAC,SAAS,GAAG,KAAK,IAAI,IAAI,CAAC,QAAQ,IAAI,KAAK,IAAI,IAAI,CAAC,SAAS,GAAG,CAAC,CAAC;QACvE,OAAO,KAAK,CAAC,MAAM,CAAC,KAAK,EAAE,eAAe,EAAE,OAAO,CAAC,CAAC;IACzD,CAAC;CACJ","sourcesContent":["import type { ScalarProperty, Vector2Property } from \"../lottie/parsedTypes\";\r\nimport { Node } from \"./node\";\r\n\r\n/**\r\n * This represents a top node of the scenegraph in a Lottie animation.\r\n * Each top level layer in Lottie is represented by a control node node.\r\n */\r\nexport class ControlNode extends Node {\r\n    private _inFrame: number;\r\n    private _outFrame: number;\r\n\r\n    /**\r\n     * Constructs a new control node.\r\n     * @param id Unique identifier for the node.\r\n     * @param ignoreOpacityAnimations If there are no animations on opacity, mark this as true to ignore and optimize CPU usage.\r\n     * @param inFrame Frame at which the node becomes active.\r\n     * @param outFrame Frame at which the node becomes inactive.\r\n     * @param position Position of the node in the scene.\r\n     * @param rotation Rotation of the node in degrees.\r\n     * @param scale Scale of the node in the scene.\r\n     * @param opacity Opacity of the node, from 0 to 1.\r\n     * @param parent Parent node in the scenegraph.\r\n     */\r\n    public constructor(\r\n        id: string,\r\n        ignoreOpacityAnimations: boolean,\r\n        inFrame: number,\r\n        outFrame: number,\r\n        position?: Vector2Property,\r\n        rotation?: ScalarProperty,\r\n        scale?: Vector2Property,\r\n        opacity?: ScalarProperty,\r\n        parent?: Node\r\n    ) {\r\n        super(id, ignoreOpacityAnimations, position, rotation, scale, opacity, parent);\r\n        this._inFrame = inFrame;\r\n        this._outFrame = outFrame;\r\n\r\n        this._isControl = true;\r\n    }\r\n\r\n    /**\r\n     * Updates the node's properties based on the current frame of the animation.\r\n     * This node will only be updated if the current frame is within the in and out range.\r\n     * @param frame Frame number we are playing in the animation.\r\n     * @param isParentUpdated Whether the parent node has been updated.\r\n     * @param isReset Whether the node is being reset.\r\n     * @returns True if the node was updated, false otherwise.\r\n     */\r\n    public override update(frame: number, isParentUpdated = false, isReset = false): boolean {\r\n        // Only update if the frame is within the in and out range\r\n        this.isVisible = frame >= this._inFrame && frame <= this._outFrame - 1;\r\n        return super.update(frame, isParentUpdated, isReset);\r\n    }\r\n}\r\n"]}